<div class="tablet-optimized min-h-screen bg-parchment">
  <header class="text-center py-6 bg-cthulhu-dark text-parchment">
    <h1 class="text-3xl font-bold mb-2">Call of Cthulhu</h1>
    <h2 class="text-xl">Character Sheet</h2>
  </header>

  <main class="character-sheet">
    <!-- Character Basic Information -->
    <section class="mb-8">
      <h3 class="section-title">Character Information</h3>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <div>
          <label class="block text-sm font-bold mb-1">Character Name</label>
          <input 
            type="text" 
            [(ngModel)]="character.name" 
            class="w-full p-2 border-2 border-cthulhu-gold rounded bg-white"
            placeholder="Enter character name">
        </div>
        <div>
          <label class="block text-sm font-bold mb-1">Occupation</label>
          <input 
            type="text" 
            [(ngModel)]="character.occupation" 
            class="w-full p-2 border-2 border-cthulhu-gold rounded bg-white"
            placeholder="Enter occupation">
        </div>
        <div>
          <label class="block text-sm font-bold mb-1">Age</label>
          <input 
            type="number" 
            [(ngModel)]="character.age" 
            class="w-full p-2 border-2 border-cthulhu-gold rounded bg-white"
            placeholder="Age">
        </div>
      </div>
    </section>

    <!-- Characteristics -->
    <section class="mb-8">
      <h3 class="section-title">Characteristics</h3>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        <div class="stat-box">
          <label class="block text-sm font-bold mb-1">STR</label>
          <input 
            type="number" 
            [(ngModel)]="character.characteristics.str" 
            class="w-full text-center border-b border-gray-400 bg-transparent"
            placeholder="0">
          <div class="text-xs text-gray-600 mt-1">{{getCharacteristicModifier(character.characteristics.str)}}</div>
        </div>
        <div class="stat-box">
          <label class="block text-sm font-bold mb-1">DEX</label>
          <input 
            type="number" 
            [(ngModel)]="character.characteristics.dex" 
            class="w-full text-center border-b border-gray-400 bg-transparent"
            placeholder="0">
          <div class="text-xs text-gray-600 mt-1">{{getCharacteristicModifier(character.characteristics.dex)}}</div>
        </div>
        <div class="stat-box">
          <label class="block text-sm font-bold mb-1">INT</label>
          <input 
            type="number" 
            [(ngModel)]="character.characteristics.int" 
            class="w-full text-center border-b border-gray-400 bg-transparent"
            placeholder="0">
          <div class="text-xs text-gray-600 mt-1">{{getCharacteristicModifier(character.characteristics.int)}}</div>
        </div>
        <div class="stat-box">
          <label class="block text-sm font-bold mb-1">CON</label>
          <input 
            type="number" 
            [(ngModel)]="character.characteristics.con" 
            class="w-full text-center border-b border-gray-400 bg-transparent"
            placeholder="0">
          <div class="text-xs text-gray-600 mt-1">{{getCharacteristicModifier(character.characteristics.con)}}</div>
        </div>
        <div class="stat-box">
          <label class="block text-sm font-bold mb-1">APP</label>
          <input 
            type="number" 
            [(ngModel)]="character.characteristics.app" 
            class="w-full text-center border-b border-gray-400 bg-transparent"
            placeholder="0">
          <div class="text-xs text-gray-600 mt-1">{{getCharacteristicModifier(character.characteristics.app)}}</div>
        </div>
        <div class="stat-box">
          <label class="block text-sm font-bold mb-1">POW</label>
          <input 
            type="number" 
            [(ngModel)]="character.characteristics.pow" 
            class="w-full text-center border-b border-gray-400 bg-transparent"
            placeholder="0">
          <div class="text-xs text-gray-600 mt-1">{{getCharacteristicModifier(character.characteristics.pow)}}</div>
        </div>
        <div class="stat-box">
          <label class="block text-sm font-bold mb-1">SIZ</label>
          <input 
            type="number" 
            [(ngModel)]="character.characteristics.siz" 
            class="w-full text-center border-b border-gray-400 bg-transparent"
            placeholder="0">
          <div class="text-xs text-gray-600 mt-1">{{getCharacteristicModifier(character.characteristics.siz)}}</div>
        </div>
        <div class="stat-box">
          <label class="block text-sm font-bold mb-1">EDU</label>
          <input 
            type="number" 
            [(ngModel)]="character.characteristics.edu" 
            class="w-full text-center border-b border-gray-400 bg-transparent"
            placeholder="0">
          <div class="text-xs text-gray-600 mt-1">{{getCharacteristicModifier(character.characteristics.edu)}}</div>
        </div>
      </div>
    </section>

    <!-- Derived Attributes -->
    <section class="mb-8">
      <h3 class="section-title">Derived Attributes</h3>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        <div class="stat-box">
          <label class="block text-sm font-bold mb-1">Hit Points</label>
          <div class="text-center">
            <span class="text-lg font-bold">{{calculateHitPoints()}}</span>
          </div>
        </div>
        <div class="stat-box">
          <label class="block text-sm font-bold mb-1">Sanity</label>
          <div class="text-center">
            <input 
              type="number" 
              [(ngModel)]="character.currentSanity" 
              class="w-16 text-center border-b border-gray-400 bg-transparent"
              [placeholder]="character.characteristics.pow.toString() || '0'">
            <span>/{{character.characteristics.pow || 0}}</span>
          </div>
        </div>
        <div class="stat-box">
          <label class="block text-sm font-bold mb-1">Magic Points</label>
          <div class="text-center">
            <span class="text-lg font-bold">{{calculateMagicPoints()}}</span>
          </div>
        </div>
        <div class="stat-box">
          <label class="block text-sm font-bold mb-1">Luck</label>
          <div class="text-center">
            <input 
              type="number" 
              [(ngModel)]="character.luck" 
              class="w-full text-center border-b border-gray-400 bg-transparent"
              placeholder="0">
          </div>
        </div>
      </div>
    </section>

    <!-- Skills -->
    <section class="mb-8">
      <h3 class="section-title">Skills</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <h4 class="font-bold mb-3 text-cthulhu-dark">Core Skills</h4>
          <div class="space-y-2">
            @for (skill of coreSkills; track skill.name) {
              <div class="skill-item">
                <span class="font-medium">{{skill.name}}</span>
                <div class="flex items-center space-x-2">
                  <input 
                    type="number" 
                    [(ngModel)]="skill.value" 
                    class="w-16 text-center border border-gray-300 rounded"
                    [placeholder]="skill.base?.toString() || '0'">
                  <span class="text-sm text-gray-500">%</span>
                </div>
              </div>
            }
          </div>
        </div>
        <div>
          <h4 class="font-bold mb-3 text-cthulhu-dark">Custom Skills</h4>
          <div class="space-y-2">
            @for (skill of character.customSkills; track $index) {
              <div class="skill-item">
                <input 
                  type="text" 
                  [(ngModel)]="skill.name" 
                  class="flex-1 border border-gray-300 rounded px-2 py-1"
                  placeholder="Skill name">
                <div class="flex items-center space-x-2">
                  <input 
                    type="number" 
                    [(ngModel)]="skill.value" 
                    class="w-16 text-center border border-gray-300 rounded"
                    placeholder="0">
                  <span class="text-sm text-gray-500">%</span>
                  <button 
                    (click)="removeCustomSkill($index)"
                    class="text-red-600 hover:text-red-800 text-sm">Ã—</button>
                </div>
              </div>
            }
            <button 
              (click)="addCustomSkill()"
              class="w-full py-2 border-2 border-dashed border-cthulhu-gold text-cthulhu-dark hover:bg-cthulhu-gold hover:text-white rounded transition-colors">
              + Add Custom Skill
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Equipment & Notes -->
    <section class="mb-8">
      <h3 class="section-title">Equipment & Notes</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <h4 class="font-bold mb-3 text-cthulhu-dark">Equipment</h4>
          <textarea 
            [(ngModel)]="character.equipment" 
            class="w-full h-32 p-3 border-2 border-cthulhu-gold rounded bg-white"
            placeholder="List your character's equipment..."></textarea>
        </div>
        <div>
          <h4 class="font-bold mb-3 text-cthulhu-dark">Background & Notes</h4>
          <textarea 
            [(ngModel)]="character.notes" 
            class="w-full h-32 p-3 border-2 border-cthulhu-gold rounded bg-white"
            placeholder="Character background, notes, and other details..."></textarea>
        </div>
      </div>
    </section>

    <!-- Save/Load -->
    <section class="text-center">
      <div class="space-x-4">
        <button 
          (click)="saveCharacter()"
          class="px-6 py-3 bg-cthulhu-dark text-parchment rounded hover:bg-gray-800 transition-colors">
          Save Character
        </button>
        <button 
          (click)="loadCharacter()"
          class="px-6 py-3 bg-cthulhu-gold text-white rounded hover:bg-yellow-600 transition-colors">
          Load Character
        </button>
        <button 
          (click)="newCharacter()"
          class="px-6 py-3 border-2 border-cthulhu-dark text-cthulhu-dark rounded hover:bg-cthulhu-dark hover:text-parchment transition-colors">
          New Character
        </button>
      </div>
    </section>
  </main>
</div>
